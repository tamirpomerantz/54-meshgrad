<!DOCTYPE html>
<html lang="en">
<head>
    <meta property="og:title" content="Mesh Gradient Generator">
    <meta property="og:description" content="Create beautiful mesh gradients with customizable color spaces and controls.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tamirpomerantz.github.io/54-meshgrad/">
    <meta property="og:image" content="https://tamirpomerantz.github.io/54-meshgrad/Mesh.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Mesh Gradient Generator">
    <meta name="twitter:description" content="Create beautiful mesh gradients with customizable color spaces and controls.">
    <meta name="twitter:image" content="https://tamirpomerantz.github.io/54-meshgrad/Mesh.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, touch-action=manipulation">
    <title>Mesh Gradient Generator</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Round">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"></script>
</head>
<body>
    <div class="container">
        <canvas id="meshCanvas" class="mesh-canvas"></canvas>
        
        <div class="floating-controls">
            <button class="toggle-controls" aria-label="Toggle Controls">
                <span class="material-icons-round">tune</span>
            </button>
            
            <div class="controls-panel">

                <div class="action-controls">
                    <button id="randomizeWarp" class="btn" title="Randomize Warp">
                        <span class="material-icons-round">shuffle</span>
                    </button>
                    
                   
                    <button id="toggleAnimation" class="btn" title="Toggle Animation">
                        <span class="material-icons-round">play_arrow</span>
                    </button>
                    <button id="toggleNoise" class="btn" title="Toggle Noise">
                        <span class="material-icons-round">grain</span>
                    </button>
                    <button id="export" class="btn" title="Export PNG">
                        <span class="material-icons-round">download</span>
                    </button>
                    <button id="reset" class="btn" title="Reset">
                        <span class="material-icons-round">restart_alt</span>
                    </button>
                </div>

                
                <div class="color-space-selector">
                    <select id="colorSpace" class="select-minimal">
                        <option value="rgb">RGB</option>
                        <option value="oklab">OKLAB</option>
                        <option value="hsl">HSL</option>
                        <option value="lch">LCH</option>
                    </select>
                    <label for="colorSpace">
                        <span class="material-icons-round">palette</span>
                    </label>
                </div>


                <div class="color-controls">
                    
                    <div class="color-picker">
                        <input type="color" id="topLeft" data-position="tl" title="Top Left">
                        <label for="topLeft">
                            <span class="material-icons-round">lens</span>
                        </label>
                    </div>
                    <div class="color-picker">
                        <input type="color" id="topRight" data-position="tr" title="Top Right">
                        <label for="topRight">
                            <span class="material-icons-round">lens</span>
                        </label>
                    </div>
                    <div class="color-picker">
                        <input type="color" id="bottomLeft" data-position="bl" title="Bottom Left">
                        <label for="bottomLeft">
                            <span class="material-icons-round">lens</span>
                        </label>
                    </div>
                    <div class="color-picker">
                        <input type="color" id="bottomRight" data-position="br" title="Bottom Right">
                        <label for="bottomRight">
                            <span class="material-icons-round">lens</span>
                        </label>
                    </div>
                    <button id="randomizeColors" class="btn" title="Randomize Colors">
                        <span class="material-icons-round">format_paint</span>
                    </button>
                    <button id="randomizePositions" class="btn" title="Randomize Color Positions">
                        <span class="material-icons-round">casino</span>
                    </button>
                </div>
                


                <div class="effects-controls">
                    <div class="background-title">
                        <span class="material-icons-round">diamond</span>
                        <span class="control-title">Effects</span>
                        <button class="collapse-btn" data-target="effects-content">
                            <span class="material-icons-round">expand_less</span>
                        </button>
                    </div>
                    <div id="effects-content" class="section-content">
                    <div class="effects-header">
                        <select id="effectType" class="select-minimal">
                            <option value="none">None</option>
                            <option value="pixelate">Pixelate</option>
                            <option value="dither">Dither</option>
                            <option value="rainbow">Rainbow</option>
                        </select>
                     
                    </div>
                    
                    <div class="effect-options" id="effectOptions">
                        <!-- Pixelate controls -->
                        <div class="effect-option" id="pixelateOptions" style="display: none;">
                            <div class="slider-group">
                                <label for="pixelSize">Size</label>
                                <input type="range" id="pixelSize" min="2" max="50" step="1" value="8" class="effects-slider">
                                <span class="slider-value">8</span>
                            </div>
                        </div>
                        
                        <!-- Dither controls -->
                        <div class="effect-option" id="ditherOptions" style="display: none;">
                            <div class="slider-group">
                                <label for="ditherSize">Size</label>
                                <input type="range" id="ditherSize" min="1" max="32" step="1" value="4" class="effects-slider">
                                <span class="slider-value">4</span>
                            </div>
                            <div class="algorithm-selector">
                                <select id="ditherAlgorithm" class="select-minimal">
                                    <option value="ordered">Ordered (Bayer)</option>
                                    <option value="floyd">Floyd-Steinberg</option>
                                    <option value="atkinson">Atkinson</option>
                                </select>
                              
                            </div>
                        </div>
                        
                        <!-- Rainbow controls -->
                        <div class="effect-option" id="rainbowOptions" style="display: none;">
                            <div class="slider-group">
                                <label for="rainbowIntensity">Intensity</label>
                                <input type="range" id="rainbowIntensity" min="1" max="10" step="1" value="1" class="effects-slider">
                                <span class="slider-value">1</span>
                            </div>
                        </div>
                        
                    </div>
                    </div>
                </div>
                <div class="levels-controls">
                    <div class="background-title">
                        <span class="material-icons-round">brightness_low</span>
                        <span  class="control-title">Levels</span>
                        <button class="collapse-btn" data-target="levels-content">
                            <span class="material-icons-round">expand_less</span>
                        </button>
                    </div>
                    <div id="levels-content" class="section-content">
                    <div class="slider-group">
                        <label for="levelsLow">Low</label>
                        <input type="range" id="levelsLow" min="0" max="1" step="0.01" value="0" class="levels-slider">
                        <span class="slider-value">0.00</span>
                    </div>
                    <div class="slider-group">
                        <label for="levelsMid">Mid</label>
                        <input type="range" id="levelsMid" min="0.1" max="10" step="0.1" value="1" class="levels-slider">
                        <span class="slider-value">1.0</span>
                    </div>
                    <div class="slider-group">
                        <label for="levelsHigh">High</label>
                        <input type="range" id="levelsHigh" min="0" max="1" step="0.01" value="1" class="levels-slider">
                        <span class="slider-value">1.00</span>
                    </div>
                    </div>
                </div>

                <div class="background-controls">
                    <div class="background-title">
                        <span class="material-icons-round">image</span>
                        <span  class="control-title">Background</span>
                        <button class="collapse-btn" data-target="background-content">
                            <span class="material-icons-round">expand_less</span>
                        </button>
                    </div>
                    <div id="background-content" class="section-content">
                    <div class="background-upload-section">
                        <input type="file" id="backgroundImage" accept="image/png" style="display: none;">
                        <button id="uploadBackground" class="upload-btn" title="Upload Background Image">
                            <span class="material-icons-round">cloud_upload</span>
                            <span>Upload Image</span>
                        </button>
                        <div id="backgroundImageTile" class="image-tile" style="display: none;">
                            <div class="image-preview">
                                <img id="backgroundImagePreview" src="" alt="Background preview">
                            </div>
                            <div class="image-info">
                                <span id="backgroundImageName" class="image-name"></span>
                                <button id="removeBackground" class="clear-btn" title="Remove Background Image">
                                    <span class="material-icons-round">close</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="backgroundImageControls" class="background-image-controls" style="display: none;">
                        <div class="slider-group">
                            <label for="backgroundOpacity">Opacity</label>
                            <input type="range" id="backgroundOpacity" min="0" max="100" step="1" value="50" class="effects-slider">
                            <span class="slider-value">50%</span>
                        </div>
                        <div class="slider-group">
                            <label for="backgroundScale">Scale</label>
                            <input type="range" id="backgroundScale" min="10" max="200" step="5" value="100" class="effects-slider">
                            <span class="slider-value">100%</span>
                        </div>
                        <div class="slider-group">
                            <label for="backgroundBlend">Blending</label>
                            <select id="backgroundBlend" class="select-minimal">
                                <option value="multiply">Multiply</option>
                                <option value="overlay">Overlay</option>
                                <option value="screen">Screen</option>
                                <option value="soft-light">Soft Light</option>
                                <option value="hard-light">Hard Light</option>
                                <option value="color-dodge">Color Dodge</option>
                                <option value="color-burn">Color Burn</option>
                            </select>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <svg viewBox="0 0 516 149" fill="none" xmlns="http://www.w3.org/2000/svg" class="logo">
        <path d="M149.768 2.63965C152.125 2.75913 154 4.70844 154 7.0957V100.925C154 108.992 142.606 110.659 140.294 102.931L132.011 75.2354L89.7021 140.89C86.4641 145.914 78.8241 144.83 77.1113 139.104L58.0107 75.2354L12.8838 145.263C9.10141 151.131 0.000244103 148.453 0 141.471V58.7197C0 50.7787 11.0422 49.0384 13.5918 56.3584L13.7061 56.7139L21.4883 82.7344L63.7949 17.0801C66.9823 12.1341 74.435 13.1072 76.3008 18.6016L76.3857 18.8662L95.4863 82.7334L95.4883 82.7344L145.787 4.67871L145.948 4.44531C146.786 3.31055 148.116 2.63379 149.538 2.63379L149.768 2.63965ZM149.538 6.63379C149.381 6.63379 149.234 6.71372 149.149 6.8457L98.8506 84.9014C97.0003 87.7726 92.6341 87.1533 91.6553 83.8809L72.5537 20.0127C71.8196 17.5583 68.5449 17.0936 67.1572 19.2471L24.8506 84.9014C23.0004 87.7725 18.6351 87.1532 17.6562 83.8809L9.87402 57.8594C8.88319 54.5474 4 55.2626 4 58.7197V141.471C4.00024 144.369 7.66091 145.537 9.36328 143.32L9.52148 143.096L54.6484 73.0684C56.4987 70.1973 60.864 70.8165 61.8428 74.0889L80.9434 137.957C81.6544 140.335 84.7497 140.845 86.2041 138.917L86.3398 138.723L128.648 73.0684C130.499 70.1973 134.864 70.8165 135.843 74.0889L144.126 101.784C145.117 105.096 150 104.382 150 100.925V7.0957C150 6.84061 149.793 6.63382 149.538 6.63379ZM476.211 0C476.864 3.09343e-05 477.583 0.066712 478.367 0.199219C479.151 0.331763 479.544 0.928028 479.544 1.98828C479.544 3.04879 479.413 3.97708 479.151 4.77246C479.021 5.56782 478.825 6.42951 478.563 7.35742L451.896 100.815C451.634 101.743 451.634 102.207 451.896 102.207C452.288 102.207 452.68 101.941 453.072 101.411C458.824 92.7946 464.772 85.1721 470.916 78.5439C477.06 71.7833 482.878 66.481 488.368 62.6367C493.859 58.7924 498.565 56.8701 502.486 56.8701C506.8 56.8702 510.068 58.3288 512.29 61.2451C514.643 64.1615 515.82 67.5414 515.82 71.3857C515.82 78.1465 514.578 85.3052 512.095 92.8613C509.742 100.417 506.604 107.642 502.683 114.535C498.761 121.428 494.512 127.328 489.937 132.232C489.152 133.028 487.976 134.088 486.407 135.414C484.839 136.607 483.008 137.8 480.917 138.993C478.825 140.186 476.668 141.18 474.445 141.976C472.354 142.903 470.393 143.368 468.563 143.368C467.648 143.368 466.537 142.97 465.229 142.175C464.053 141.379 463.007 140.385 462.092 139.192C461.307 137.999 460.916 136.939 460.916 136.011C460.916 135.348 461.177 134.552 461.7 133.624C462.223 132.696 462.877 131.901 463.661 131.238C464.445 130.576 465.229 130.244 466.014 130.244C467.19 130.244 468.171 130.509 468.955 131.039C469.87 131.437 470.655 131.967 471.309 132.63C472.093 133.293 472.877 133.89 473.661 134.42C474.445 134.95 475.361 135.215 476.406 135.215C478.629 135.215 480.982 133.89 483.466 131.238C485.95 128.587 488.302 125.074 490.524 120.699C492.877 116.325 494.97 111.553 496.8 106.383C498.63 101.08 500.067 95.7772 501.113 90.4746C502.29 85.1723 502.878 80.2677 502.878 75.7607C502.878 72.7118 502.224 70.3915 500.917 68.8008C499.74 67.0776 497.91 66.2158 495.427 66.2158C492.551 66.2159 489.283 67.6745 485.623 70.5908C482.093 73.3747 478.367 77.0859 474.445 81.7256C470.654 86.3653 466.929 91.3371 463.269 96.6396C459.608 101.942 456.275 107.112 453.269 112.149C450.262 117.187 447.843 121.495 446.013 125.074C442.745 131.437 440.261 136.209 438.562 139.391C436.993 142.572 435.424 144.163 433.855 144.163C433.202 144.163 432.614 143.898 432.091 143.368C431.568 142.838 431.176 142.175 430.914 141.38C430.653 140.585 430.522 139.789 430.522 138.993C430.522 137.005 430.718 135.017 431.11 133.028C431.633 131.04 432.287 128.587 433.071 125.671L460.72 29.6279C461.373 27.3744 462.027 24.9217 462.681 22.2705C463.334 19.4869 463.661 17.432 463.661 16.1064C463.661 14.781 462.811 13.7868 461.111 13.124C459.543 12.4613 457.974 11.8642 456.405 11.334C455.49 11.0689 454.641 10.8041 453.856 10.5391C453.203 10.1415 452.876 9.67756 452.876 9.14746C452.876 8.61721 453.073 8.15258 453.465 7.75488C453.857 7.22477 454.772 6.69417 456.21 6.16406C457.256 5.7664 458.694 5.23597 460.523 4.57324C462.484 3.91043 464.511 3.24777 466.603 2.58496C468.824 1.78972 470.785 1.19356 472.484 0.795898C474.315 0.265643 475.557 0 476.211 0ZM294.006 58.2617C296.489 58.2618 298.712 59.0578 300.673 60.6484C302.633 62.2392 303.876 64.6254 304.398 67.8066C305.052 70.8556 304.463 74.7002 302.633 79.3398L285.77 123.483C283.809 128.255 284.136 130.641 286.75 130.642C288.319 130.642 290.214 129.912 292.437 128.454C294.659 126.996 296.881 125.273 299.104 123.284C301.457 121.296 303.483 119.507 305.183 117.916C306.882 116.193 307.993 115.065 308.516 114.535C308.646 114.403 308.712 114.336 308.712 114.336H309.104C309.497 114.336 309.824 114.535 310.085 114.933C310.477 115.198 310.673 115.596 310.673 116.126C310.673 117.186 310.411 118.313 309.889 119.506C309.497 120.566 308.581 121.826 307.144 123.284C302.83 128.189 297.993 132.763 292.633 137.005C287.273 141.247 281.521 143.368 275.377 143.368C274.331 143.368 273.22 142.903 272.044 141.976C270.998 141.18 270.148 140.054 269.494 138.596C268.971 137.138 268.971 135.679 269.494 134.221L292.24 74.7656C293.286 72.1146 293.221 70.1264 292.045 68.8008C290.999 67.4753 289.757 66.7459 288.319 66.6133C286.228 66.4807 283.416 67.608 279.887 69.9941C276.357 72.2477 272.436 76.0917 268.122 81.5264C266.161 84.0451 263.416 87.8239 259.887 92.8613C256.488 97.8986 252.958 103.333 249.298 109.166C245.768 114.866 242.696 120.169 240.081 125.074C237.859 129.316 235.767 132.83 233.807 135.613C231.846 138.397 230.081 140.452 228.513 141.777C226.944 143.235 225.637 143.964 224.591 143.964C223.937 143.964 223.349 143.633 222.826 142.97C222.303 142.439 221.845 141.777 221.453 140.981C221.192 140.186 221.062 139.391 221.062 138.596C221.062 137.933 221.453 136.275 222.237 133.624C223.152 130.84 224.264 127.593 225.571 123.881L243.808 74.1699C244.984 71.121 244.853 69.0654 243.415 68.0049C241.977 66.812 240.801 66.1492 239.886 66.0166C237.794 65.7515 234.984 66.8788 231.454 69.3975C227.925 71.7836 224.002 75.6939 219.688 81.1289C218.12 82.9848 216.159 85.6363 213.806 89.083C211.453 92.5296 208.903 96.3742 206.158 100.616C203.544 104.725 200.93 108.967 198.315 113.342C195.832 117.584 193.609 121.495 191.648 125.074C188.25 131.437 185.635 136.209 183.805 139.391C181.975 142.44 180.275 143.964 178.706 143.964C178.053 143.964 177.464 143.632 176.941 142.97C176.419 142.307 175.961 141.512 175.569 140.584C175.308 139.656 175.177 138.794 175.177 137.999C175.177 137.336 175.569 135.745 176.354 133.227C177.269 130.708 178.379 127.593 179.687 123.881L197.727 75.959C198.38 74.2358 198.38 72.778 197.727 71.585C197.073 70.392 195.962 69.795 194.394 69.7949C192.433 69.7949 190.34 70.2586 188.118 71.1865C186.027 72.1145 183.413 74.6997 180.275 78.9414C179.752 79.4717 179.163 79.7373 178.51 79.7373C177.987 79.6046 177.595 79.0741 177.334 78.1465C177.334 77.3512 177.464 76.357 177.726 75.1641C177.987 73.8384 178.379 72.5122 178.902 71.1865C179.556 69.861 180.144 68.8669 180.667 68.2041C182.889 65.4203 185.57 63.1 188.707 61.2441C191.844 59.3884 195.636 58.3943 200.08 58.2617C201.91 58.2618 203.675 58.5931 205.374 59.2559C207.204 59.7861 208.512 60.8468 209.296 62.4375C210.211 64.0283 210.145 66.2162 209.1 69L197.923 98.4287C197.531 99.3566 197.596 99.887 198.119 100.02C198.773 100.152 199.295 99.8864 199.688 99.2236C205.309 90.4745 210.668 83.051 215.767 76.9531C220.995 70.8553 225.963 66.2157 230.669 63.0342C235.506 59.8527 240.016 58.2618 244.199 58.2617C246.683 58.2617 248.905 58.991 250.866 60.4492C252.958 61.9074 254.331 64.0945 254.984 67.0107C255.769 69.7945 255.442 73.3078 254.004 77.5498L246.944 98.4287C246.552 99.3566 246.618 99.887 247.141 100.02C247.794 100.152 248.317 99.8865 248.709 99.2236C254.199 90.0769 259.559 82.521 264.788 76.5557C270.148 70.4577 275.312 65.8839 280.279 62.835C285.247 59.786 289.823 58.2617 294.006 58.2617ZM370.648 58.2617C375.224 58.2617 378.754 59.2559 381.237 61.2441C383.852 63.1 385.159 65.7517 385.159 69.1982C385.159 73.3077 383.852 76.8876 381.237 79.9365C378.754 82.9853 375.355 85.6362 371.041 87.8896C366.727 90.0107 361.89 91.8006 356.53 93.2588C351.301 94.7169 345.941 95.9766 340.451 97.0371C339.667 97.1697 339.013 97.3677 338.49 97.6328C338.098 97.7655 337.771 98.2302 337.51 99.0254C336.595 101.942 335.68 105.123 334.765 108.569C333.85 112.016 333.393 115.265 333.393 118.313C333.393 122.953 334.242 126.532 335.941 129.051C337.772 131.569 340.386 132.829 343.785 132.829C348.491 132.829 352.478 131.636 355.746 129.25C359.014 126.864 361.695 124.477 363.786 122.091C365.093 120.633 366.27 119.904 367.315 119.904C368.623 119.904 369.276 120.567 369.276 121.893V122.688C369.276 122.953 369.145 123.218 368.884 123.483C366.269 127.858 363.328 131.569 360.061 134.618C356.792 137.535 353.263 139.722 349.472 141.181C345.811 142.771 341.824 143.566 337.51 143.566C334.765 143.566 331.954 142.506 329.078 140.385C326.333 138.264 324.046 135.613 322.216 132.432C320.386 129.118 319.471 125.936 319.471 122.887C319.471 116.259 320.777 109.232 323.392 101.809C326.137 94.2526 329.863 87.227 334.569 80.7314C339.275 74.1035 344.7 68.7344 350.844 64.625C357.118 60.3831 363.72 58.2618 370.648 58.2617ZM426.675 58.2617C428.374 58.2617 430.074 58.792 431.773 59.8525C433.473 60.7805 434.845 61.9078 435.891 63.2334C437.067 64.4263 437.656 65.4862 437.656 66.4141C437.656 67.2094 437.264 68.2044 436.479 69.3975C435.695 70.4579 434.78 71.452 433.734 72.3799C432.689 73.3077 431.774 73.7713 430.989 73.7715C430.336 73.7715 429.682 73.4401 429.028 72.7773C428.375 72.1145 427.655 71.3852 426.871 70.5898C426.087 69.7946 425.106 69.0661 423.93 68.4033C422.884 67.7405 421.446 67.4092 419.616 67.4092C417.525 67.4092 415.694 68.3365 414.125 70.1924C412.556 71.9157 411.772 74.236 411.772 77.1523C411.772 78.2128 412.099 79.8697 412.753 82.123C413.537 84.3766 414.387 86.6969 415.302 89.083C416.348 91.4692 417.328 93.5904 418.243 95.4463C419.681 98.0975 420.989 101.478 422.165 105.587C423.472 109.564 424.126 113.077 424.126 116.126C424.126 120.103 422.95 123.748 420.597 127.062C418.374 130.377 415.433 133.293 411.772 135.812C408.112 138.198 404.124 140.053 399.811 141.379C395.627 142.704 391.575 143.368 387.653 143.368C384.778 143.368 382.294 142.506 380.202 140.783C378.111 139.192 377.065 137.137 377.065 134.618C377.065 131.569 377.784 129.316 379.222 127.857C380.529 126.267 381.641 125.472 382.556 125.472C383.471 125.472 384.386 125.87 385.301 126.665C386.346 127.328 387.457 128.19 388.634 129.25C390.072 130.31 391.64 131.371 393.34 132.432C395.17 133.36 397.523 133.823 400.399 133.823C403.929 133.823 406.739 132.564 408.831 130.045C410.923 127.394 412.033 124.61 412.164 121.693C412.164 118.777 411.641 115.662 410.596 112.348C409.681 108.901 408.308 105.521 406.478 102.207C404.778 99.0255 403.341 96.0426 402.164 93.2588C401.118 90.3424 400.596 87.8898 400.596 85.9014C400.596 82.0571 401.576 78.4781 403.537 75.1641C405.629 71.7174 408.112 68.7345 410.988 66.2158C413.995 63.6973 416.936 61.7748 419.812 60.4492C422.687 58.9911 424.975 58.2618 426.675 58.2617ZM368.492 63.2334C365.747 63.2334 362.74 64.4264 359.472 66.8125C356.334 69.066 353.328 71.8501 350.452 75.1641C347.576 78.3456 345.157 81.4608 343.196 84.5098C341.366 87.5585 340.451 89.8124 340.451 91.2705C340.451 92.0657 340.909 92.4629 341.824 92.4629C343.262 92.4629 345.68 92.0658 349.079 91.2705C352.609 90.3426 356.27 88.9506 360.061 87.0947C363.851 85.1063 367.054 82.7203 369.669 79.9365C372.414 77.0201 373.786 73.5726 373.786 69.5957C373.786 67.8727 373.329 66.4146 372.414 65.2217C371.499 63.8961 370.191 63.2335 368.492 63.2334Z" fill="white"/>
        </svg>
        <a href="https://tamirp.com" class="logo-text">tamirp.com</a>
    <script src="shaders.js" type="module"></script>
    <script src="noise.js" type="module"></script>
    <script src="mesh.js" type="module"></script>
    <script src="app.js" type="module"></script>
</body>
</html>
